@namespace tauri_browser.Components.Browser

<!-- Incognito Toggle -->
<button class="incognito-toggle @(IsIncognito ? "active" : "")" 
        @onclick="Toggle"
        title="@(IsIncognito ? "Exit Incognito Mode" : "Enter Incognito Mode")">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4.242 4.242a4 4 0 105.656 5.656l4.242-4.242a4 4 0 00-5.656-5.656l4.242 4.242" />
    </svg>
    <span>@(IsIncognito ? "Incognito" : "Standard")</span>
</button>

<style>
.incognito-toggle {
    display: flex;
    align-items: center;
    gap: 4px;
    padding: 0 4px;
    border: none;
    background: transparent;
    color: var(--tab-text);
    border-radius: 4px;
    cursor: pointer;
    font-size: 11px;
    font-weight: 500;
    transition: all 0.2s;
    height: 20px;
}

.incognito-toggle:hover {
    background: var(--btn-hover-bg);
    color: var(--text-color);
}

.incognito-toggle.active {
    color: #ce93d8; /* A lighter purple suited for dark themes */
}

.incognito-toggle svg {
    width: 14px;
    height: 14px;
}
</style>

@code {
    [Parameter] public bool IsIncognito { get; set; } = false;
    [Parameter] public EventCallback<bool> OnIncognitoChanged { get; set; }

    private async Task Toggle() {
        IsIncognito = !IsIncognito;
        await OnIncognitoChanged.InvokeAsync(IsIncognito);
        StateHasChanged();
    }
}
